import{j as s,u as _,a as f,b as w,r as m,h as R,i as N,B as g,P as k,R as z,C as M,A as B,E as L,f as A}from"./index-Ct1b2fJq.js";import{a as D}from"./index-ngrFHoWO.js";const X=()=>{var j,p,o;const{t:a}=_(),e=f(),{captureException:u}=w(),[l,c]=m.useState(100),[i,t]=m.useState(10),[h,d]=m.useState(!1),[n,x]=m.useState(null),v=async()=>{d(!0),e.info("开始训练随机森林模型",{nEstimators:l,maxDepth:i});try{const r=await D.post("/api/algorithms/supervised/random-forest/train",{n_estimators:l,max_depth:i});x(r.data),e.info("随机森林模型训练成功",{result:r.data})}catch(r){e.error("随机森林模型训练失败",{error:r.message,nEstimators:l,maxDepth:i}),u(r,{type:A.NETWORK,severity:L.HIGH,context:{algorithm:"random-forest",nEstimators:l,maxDepth:i,message:"训练失败，请检查后端服务是否正常运行"}})}finally{d(!1)}},b=()=>{c(100),t(10),x(null)};return s.jsx(R,{title:"⚡ 交互式实验",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"📊 参数调整"}),s.jsx(N,{label:"决策树数量 (N Estimators)",value:l,onChange:c,min:10,max:500,step:10}),s.jsx(N,{label:"最大深度 (Max Depth)",value:i,onChange:t,min:1,max:30,step:1}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx(g,{onClick:v,icon:k,disabled:h,children:h?"训练中...":"运行训练"}),s.jsx(g,{onClick:b,variant:"secondary",icon:z,children:"重置参数"})]})]}),n&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2 text-gray-900 dark:text-gray-100",children:"🌲 训练结果"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"准确率 (Accuracy):"}),s.jsx("span",{className:"ml-2 font-mono font-semibold",children:(j=n.accuracy)==null?void 0:j.toFixed(4)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"F1 Score:"}),s.jsx("span",{className:"ml-2 font-mono font-semibold",children:(p=n.f1_score)==null?void 0:p.toFixed(4)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"训练时间:"}),s.jsxs("span",{className:"ml-2 font-mono font-semibold",children:[(o=n.training_time)==null?void 0:o.toFixed(3),"s"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"树的数量:"}),s.jsx("span",{className:"ml-2 font-mono font-semibold",children:n.n_trees})]})]})]}),n.feature_importance&&s.jsx(M,{data:n.feature_importance,layout:{title:"特征重要性",xaxis:{title:"重要性"},yaxis:{title:"特征"},height:400}})]})]})})};function y(a){const e={annotation:"annotation",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mspace:"mspace",msqrt:"msqrt",msub:"msub",msubsup:"msubsup",msup:"msup",mtext:"mtext",munder:"munder",munderover:"munderover",ol:"ol",p:"p",path:"path",pre:"pre",semantics:"semantics",span:"span",strong:"strong",svg:"svg",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...a.components};return s.jsxs(s.Fragment,{children:[s.jsx(B,{title:"随机森林 Random Forest",difficulty:"intermediate",stars:3,time:30}),`
`,s.jsx(e.h2,{children:"1️⃣ 算法概览"}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"随机森林"}),"（Random Forest）是一种基于",s.jsx(e.strong,{children:"集成学习"}),"（Ensemble Learning）的强大算法，通过构建多棵决策树并",s.jsx(e.strong,{children:"投票表决"}),"来提高预测性能。它结合了",s.jsx(e.strong,{children:"Bagging"}),"（Bootstrap Aggregating）和",s.jsx(e.strong,{children:"随机特征选择"}),"两大技术，显著降低了单棵决策树的过拟合风险。"]}),`
`,s.jsx(e.h3,{children:"核心思想"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:["从训练集中",s.jsx(e.strong,{children:"随机抽样"}),"（有放回抽样，Bootstrap）构建多个子集"]}),`
`,s.jsx(e.li,{children:"在每个子集上训练一棵决策树"}),`
`,s.jsxs(e.li,{children:["每次分裂时只考虑",s.jsx(e.strong,{children:"随机选择的特征子集"})]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"多数投票"}),"（分类）或",s.jsx(e.strong,{children:"平均值"}),"（回归）作为最终预测"]}),`
`]}),`
`,s.jsx(e.h3,{children:"应用场景"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:["🏥 ",s.jsx(e.strong,{children:"疾病诊断"}),"：综合多个特征进行疾病预测"]}),`
`,s.jsxs(e.li,{children:["💳 ",s.jsx(e.strong,{children:"信用评分"}),"：评估贷款违约风险"]}),`
`,s.jsxs(e.li,{children:["📊 ",s.jsx(e.strong,{children:"股票预测"}),"：预测股票价格走势"]}),`
`,s.jsxs(e.li,{children:["🎯 ",s.jsx(e.strong,{children:"推荐系统"}),"：用户行为预测和内容推荐"]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsx(e.h2,{children:"2️⃣ 发展历史"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"1994年"})," - ",s.jsx(e.strong,{children:"Tin Kam Ho"})," 提出随机子空间方法（Random Subspace Method）"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"1996年"})," - ",s.jsx(e.strong,{children:"Leo Breiman"})," 提出 ",s.jsx(e.strong,{children:"Bagging"})," 算法（Bootstrap Aggregating）"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"2001年"})," - ",s.jsx(e.strong,{children:"Leo Breiman"})," 正式提出 ",s.jsx(e.strong,{children:"Random Forest"})," 算法，结合 Bagging 和随机特征选择"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"2003年"})," - Breiman 和 Cutler 完善随机森林理论，并推广应用"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"21世纪"})," - 随机森林成为 Kaggle 竞赛和工业界最受欢迎的算法之一"]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsx(e.h2,{children:"3️⃣ 数学原理"}),`
`,s.jsx(e.h3,{children:"Bagging（Bootstrap Aggregating）"}),`
`,s.jsxs(e.p,{children:["从原始数据集 ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"D"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"D"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6833em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"})]})})]})," 中进行 ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"B"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"B"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6833em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05017em"},children:"B"})]})})]})," 次",s.jsx(e.strong,{children:"有放回随机抽样"}),"，生成 ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"B"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"B"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6833em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05017em"},children:"B"})]})})]})," 个子数据集 ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"D"}),s.jsx(e.mn,{children:"1"})]}),s.jsx(e.mo,{separator:"true",children:","}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"D"}),s.jsx(e.mn,{children:"2"})]}),s.jsx(e.mo,{separator:"true",children:","}),s.jsx(e.mi,{mathvariant:"normal",children:"."}),s.jsx(e.mi,{mathvariant:"normal",children:"."}),s.jsx(e.mi,{mathvariant:"normal",children:"."}),s.jsx(e.mo,{separator:"true",children:","}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"D"}),s.jsx(e.mi,{children:"B"})]})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"D_1, D_2, ..., D_B"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8778em",verticalAlign:"-0.1944em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:"1"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3011em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:"2"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord",children:"..."}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3283em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05017em"},children:"B"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]})]})})]}),"："]}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"D"}),s.jsx(e.mi,{children:"b"})]}),s.jsx(e.mo,{children:"="}),s.jsx(e.mo,{stretchy:"false",children:"{"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{mathvariant:"bold",children:"x"}),s.jsx(e.mi,{children:"i"})]}),s.jsx(e.mo,{separator:"true",children:","}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"y"}),s.jsx(e.mi,{children:"i"})]}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{stretchy:"false",children:"}"}),s.jsx(e.mo,{separator:"true",children:","}),s.jsx(e.mspace,{width:"1em"}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mo,{children:"∼"}),s.jsx(e.mi,{children:"U"}),s.jsx(e.mi,{children:"n"}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"f"}),s.jsx(e.mi,{children:"o"}),s.jsx(e.mi,{children:"r"}),s.jsx(e.mi,{children:"m"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mn,{children:"1"}),s.jsx(e.mo,{separator:"true",children:","}),s.jsx(e.mi,{children:"N"}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:`D_b = \\{(\\mathbf{x}_i, y_i)\\}, \\quad i \\sim Uniform(1, N)
`})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"D"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3361em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0278em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"b"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mopen",children:"{("}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathbf",children:"x"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3117em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3117em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mclose",children:")}"}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"1em"}}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"i"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"∼"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"U"}),s.jsx(e.span,{className:"mord mathnormal",children:"ni"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"or"}),s.jsx(e.span,{className:"mord mathnormal",children:"m"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord",children:"1"}),s.jsx(e.span,{className:"mpunct",children:","}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),s.jsx(e.span,{className:"mclose",children:")"})]})]})]})}),`
`,s.jsxs(e.p,{children:["在每个子集上训练一个基学习器（决策树）",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"h"}),s.jsx(e.mi,{children:"b"})]})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"h_b"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"h"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3361em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"b"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]})]})})]}),"。"]}),`
`,s.jsx(e.h3,{children:"随机特征选择"}),`
`,s.jsxs(e.p,{children:["在每次节点分裂时，不考虑所有 ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"d"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"d"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6944em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"d"})]})})]})," 个特征，而是随机选择 ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"m"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"m"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"m"})]})})]})," 个特征（",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"m"}),s.jsx(e.mo,{children:"≪"}),s.jsx(e.mi,{children:"d"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"m \\ll d"})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.5782em",verticalAlign:"-0.0391em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"m"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"≪"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6944em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"d"})]})]})]}),"）："]}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"m"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mo,{stretchy:"false",children:"⌊"}),s.jsx(e.msqrt,{children:s.jsx(e.mi,{children:"d"})}),s.jsx(e.mo,{stretchy:"false",children:"⌋"}),s.jsx(e.mspace,{width:"1em"}),s.jsx(e.mtext,{children:"(分类任务)"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:`m = \\lfloor\\sqrt{d}\\rfloor \\quad \\text{(分类任务)}
`})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"m"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1.2311em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mopen",children:"⌊"}),s.jsx(e.span,{className:"mord sqrt",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"0.9811em"},children:[s.jsxs(e.span,{className:"svg-align",style:{top:"-3em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"mord",style:{paddingLeft:"0.833em"},children:s.jsx(e.span,{className:"mord mathnormal",children:"d"})})]}),s.jsxs(e.span,{style:{top:"-2.9411em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:s.jsx(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:s.jsx(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.0589em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mclose",children:"⌋"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"1em"}}),s.jsxs(e.span,{className:"mord text",children:[s.jsx(e.span,{className:"mord",children:"("}),s.jsx(e.span,{className:"mord cjk_fallback",children:"分类任务"}),s.jsx(e.span,{className:"mord",children:")"})]})]})]})]})}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"m"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mo,{stretchy:"false",children:"⌊"}),s.jsx(e.mi,{children:"d"}),s.jsx(e.mi,{mathvariant:"normal",children:"/"}),s.jsx(e.mn,{children:"3"}),s.jsx(e.mo,{stretchy:"false",children:"⌋"}),s.jsx(e.mspace,{width:"1em"}),s.jsx(e.mtext,{children:"(回归任务)"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:`m = \\lfloor d/3 \\rfloor \\quad \\text{(回归任务)}
`})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.4306em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"m"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mopen",children:"⌊"}),s.jsx(e.span,{className:"mord mathnormal",children:"d"}),s.jsx(e.span,{className:"mord",children:"/3"}),s.jsx(e.span,{className:"mclose",children:"⌋"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"1em"}}),s.jsxs(e.span,{className:"mord text",children:[s.jsx(e.span,{className:"mord",children:"("}),s.jsx(e.span,{className:"mord cjk_fallback",children:"回归任务"}),s.jsx(e.span,{className:"mord",children:")"})]})]})]})]})}),`
`,s.jsx(e.h3,{children:"集成预测"}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"分类任务"}),"：多数投票"]}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"H"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{mathvariant:"bold",children:"x"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mi,{children:"arg"}),s.jsx(e.mo,{children:"⁡"}),s.jsxs(e.munder,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"max"}),s.jsx(e.mo,{children:"⁡"})]}),s.jsx(e.mi,{children:"y"})]}),s.jsxs(e.munderover,{children:[s.jsx(e.mo,{children:"∑"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"b"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mn,{children:"1"})]}),s.jsx(e.mi,{children:"B"})]}),s.jsx(e.mi,{children:"I"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"h"}),s.jsx(e.mi,{children:"b"})]}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{mathvariant:"bold",children:"x"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mi,{children:"y"}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:`H(\\mathbf{x}) = \\arg\\max_{y}\\sum_{b=1}^{B}I(h_b(\\mathbf{x}) = y)
`})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.08125em"},children:"H"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathbf",children:"x"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"3.1304em",verticalAlign:"-1.3021em"}}),s.jsxs(e.span,{className:"mop",children:["ar",s.jsx(e.span,{style:{marginRight:"0.01389em"},children:"g"})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mop op-limits",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"0.4306em"},children:[s.jsxs(e.span,{style:{top:"-2.4em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"y"})})})]}),s.jsxs(e.span,{style:{top:"-3em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{children:s.jsx(e.span,{className:"mop",children:"max"})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.8361em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mop op-limits",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.8283em"},children:[s.jsxs(e.span,{style:{top:"-1.8479em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"b"}),s.jsx(e.span,{className:"mrel mtight",children:"="}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]}),s.jsxs(e.span,{style:{top:"-3.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{children:s.jsx(e.span,{className:"mop op-symbol large-op",children:"∑"})})]}),s.jsxs(e.span,{style:{top:"-4.3em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05017em"},children:"B"})})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.3021em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"I"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"h"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3361em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"b"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathbf",children:"x"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),s.jsx(e.span,{className:"mclose",children:")"})]})]})]})}),`
`,s.jsxs(e.p,{children:[s.jsx(e.strong,{children:"回归任务"}),"：平均值"]}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"H"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{mathvariant:"bold",children:"x"}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"="}),s.jsxs(e.mfrac,{children:[s.jsx(e.mn,{children:"1"}),s.jsx(e.mi,{children:"B"})]}),s.jsxs(e.munderover,{children:[s.jsx(e.mo,{children:"∑"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"b"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mn,{children:"1"})]}),s.jsx(e.mi,{children:"B"})]}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"h"}),s.jsx(e.mi,{children:"b"})]}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{mathvariant:"bold",children:"x"}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:`H(\\mathbf{x}) = \\frac{1}{B}\\sum_{b=1}^{B}h_b(\\mathbf{x})
`})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.08125em"},children:"H"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathbf",children:"x"}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"3.1304em",verticalAlign:"-1.3021em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mopen nulldelimiter"}),s.jsx(e.span,{className:"mfrac",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.3214em"},children:[s.jsxs(e.span,{style:{top:"-2.314em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05017em"},children:"B"})})]}),s.jsxs(e.span,{style:{top:"-3.23em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),s.jsxs(e.span,{style:{top:"-3.677em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord",children:"1"})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.686em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mclose nulldelimiter"})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mop op-limits",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.8283em"},children:[s.jsxs(e.span,{style:{top:"-1.8479em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"b"}),s.jsx(e.span,{className:"mrel mtight",children:"="}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]}),s.jsxs(e.span,{style:{top:"-3.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{children:s.jsx(e.span,{className:"mop op-symbol large-op",children:"∑"})})]}),s.jsxs(e.span,{style:{top:"-4.3em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05017em"},children:"B"})})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.3021em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"h"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3361em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"b"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsx(e.span,{className:"mord mathbf",children:"x"}),s.jsx(e.span,{className:"mclose",children:")"})]})]})]})}),`
`,s.jsx(e.h3,{children:"袋外误差（Out-of-Bag Error）"}),`
`,s.jsxs(e.p,{children:["每个样本平均只出现在约 ",s.jsx(e.strong,{children:"63.2%"})," 的 Bootstrap 样本中（",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mn,{children:"1"}),s.jsx(e.mo,{children:"−"}),s.jsxs(e.msup,{children:[s.jsx(e.mi,{children:"e"}),s.jsxs(e.mrow,{children:[s.jsx(e.mo,{children:"−"}),s.jsx(e.mn,{children:"1"})]})]}),s.jsx(e.mo,{children:"≈"}),s.jsx(e.mn,{children:"0.632"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"1 - e^{-1} \\approx 0.632"})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.7278em",verticalAlign:"-0.0833em"}}),s.jsx(e.span,{className:"mord",children:"1"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"−"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8141em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"e"}),s.jsx(e.span,{className:"msupsub",children:s.jsx(e.span,{className:"vlist-t",children:s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.8141em"},children:s.jsxs(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mtight",children:"−"}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]})})})})})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"≈"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6444em"}}),s.jsx(e.span,{className:"mord",children:"0.632"})]})]})]}),"），剩余 ",s.jsx(e.strong,{children:"36.8%"})," 的样本可作为验证集："]}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"O"}),s.jsx(e.mi,{children:"O"}),s.jsx(e.mi,{children:"B"}),s.jsx(e.mi,{mathvariant:"normal",children:"_"}),s.jsx(e.mi,{children:"E"}),s.jsx(e.mi,{children:"r"}),s.jsx(e.mi,{children:"r"}),s.jsx(e.mi,{children:"o"}),s.jsx(e.mi,{children:"r"}),s.jsx(e.mo,{children:"="}),s.jsxs(e.mfrac,{children:[s.jsx(e.mn,{children:"1"}),s.jsx(e.mi,{children:"N"})]}),s.jsxs(e.munderover,{children:[s.jsx(e.mo,{children:"∑"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"i"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mn,{children:"1"})]}),s.jsx(e.mi,{children:"N"})]}),s.jsx(e.mi,{children:"I"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsxs(e.msubsup,{children:[s.jsx(e.mi,{children:"H"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"O"}),s.jsx(e.mi,{children:"O"}),s.jsx(e.mi,{children:"B"})]}),s.jsxs(e.mrow,{children:[s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mo,{stretchy:"false",children:")"})]})]}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{mathvariant:"bold",children:"x"}),s.jsx(e.mi,{children:"i"})]}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{mathvariant:"normal",children:"≠"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"y"}),s.jsx(e.mi,{children:"i"})]}),s.jsx(e.mo,{stretchy:"false",children:")"})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:`OOB\\_Error = \\frac{1}{N}\\sum_{i=1}^{N}I(H_{OOB}^{(i)}(\\mathbf{x}_i) \\neq y_i)
`})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.9933em",verticalAlign:"-0.31em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05017em"},children:"OOB"}),s.jsx(e.span,{className:"mord",style:{marginRight:"0.02778em"},children:"_"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"E"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"rror"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"3.106em",verticalAlign:"-1.2777em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mopen nulldelimiter"}),s.jsx(e.span,{className:"mfrac",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.3214em"},children:[s.jsxs(e.span,{style:{top:"-2.314em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"})})]}),s.jsxs(e.span,{style:{top:"-3.23em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),s.jsxs(e.span,{style:{top:"-3.677em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord",children:"1"})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.686em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mclose nulldelimiter"})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mop op-limits",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.8283em"},children:[s.jsxs(e.span,{style:{top:"-1.8723em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"i"}),s.jsx(e.span,{className:"mrel mtight",children:"="}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]}),s.jsxs(e.span,{style:{top:"-3.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{children:s.jsx(e.span,{className:"mop op-symbol large-op",children:"∑"})})]}),s.jsxs(e.span,{style:{top:"-4.3em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.10903em"},children:"N"})})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.2777em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"I"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.08125em"},children:"H"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.0448em"},children:[s.jsxs(e.span,{style:{top:"-2.4065em",marginLeft:"-0.0813em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05017em"},children:"OOB"})})})]}),s.jsxs(e.span,{style:{top:"-3.2198em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mopen mtight",children:"("}),s.jsx(e.span,{className:"mord mathnormal mtight",children:"i"}),s.jsx(e.span,{className:"mclose mtight",children:")"})]})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.2935em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathbf",children:"x"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3117em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsxs(e.span,{className:"mrel",children:[s.jsx(e.span,{className:"mrel",children:s.jsx(e.span,{className:"mord vbox",children:s.jsx(e.span,{className:"thinbox",children:s.jsxs(e.span,{className:"rlap",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),s.jsx(e.span,{className:"inner",children:s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mrel",children:""})})}),s.jsx(e.span,{className:"fix"})]})})})}),s.jsx(e.span,{className:"mrel",children:"="})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3117em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mclose",children:")"})]})]})]})}),`
`,s.jsx(e.hr,{}),`
`,s.jsx(e.h2,{children:"4️⃣ 交互式实验 ⚡"}),`
`,s.jsx(e.p,{children:"调整随机森林的关键参数，观察对性能和训练时间的影响："}),`
`,s.jsx(X,{}),`
`,s.jsx(e.hr,{}),`
`,s.jsx(e.h2,{children:"5️⃣ 代码实现"}),`
`,s.jsx(e.h3,{children:"Python 实现（scikit-learn）"}),`
`,s.jsx(e.pre,{children:s.jsxs(e.code,{className:"hljs language-python",children:[s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.ensemble ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` RandomForestClassifier\r
`,s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.model_selection ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` train_test_split\r
`,s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.metrics ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` accuracy_score, classification_report\r
`,s.jsx(e.span,{className:"hljs-keyword",children:"import"})," numpy ",s.jsx(e.span,{className:"hljs-keyword",children:"as"}),` np\r
`,s.jsx(e.span,{className:"hljs-keyword",children:"import"})," pandas ",s.jsx(e.span,{className:"hljs-keyword",children:"as"}),` pd\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 加载数据"}),`\r
`,s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.datasets ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` load_iris\r
iris = load_iris()\r
X, y = iris.data, iris.target\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 划分数据集"}),`\r
X_train, X_test, y_train, y_test = train_test_split(\r
    X, y, test_size=`,s.jsx(e.span,{className:"hljs-number",children:"0.2"}),", random_state=",s.jsx(e.span,{className:"hljs-number",children:"42"}),`\r
)\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 创建随机森林分类器"}),`\r
model = RandomForestClassifier(\r
    n_estimators=`,s.jsx(e.span,{className:"hljs-number",children:"100"}),",        ",s.jsx(e.span,{className:"hljs-comment",children:"# 决策树数量"}),`\r
    max_depth=`,s.jsx(e.span,{className:"hljs-number",children:"10"}),",            ",s.jsx(e.span,{className:"hljs-comment",children:"# 最大深度"}),`\r
    min_samples_split=`,s.jsx(e.span,{className:"hljs-number",children:"2"}),",     ",s.jsx(e.span,{className:"hljs-comment",children:"# 分裂所需最小样本数"}),`\r
    min_samples_leaf=`,s.jsx(e.span,{className:"hljs-number",children:"1"}),",      ",s.jsx(e.span,{className:"hljs-comment",children:"# 叶节点最小样本数"}),`\r
    max_features=`,s.jsx(e.span,{className:"hljs-string",children:"'sqrt'"}),",     ",s.jsx(e.span,{className:"hljs-comment",children:"# 每次分裂考虑的特征数"}),`\r
    bootstrap=`,s.jsx(e.span,{className:"hljs-literal",children:"True"}),",          ",s.jsx(e.span,{className:"hljs-comment",children:"# 是否使用 Bootstrap 抽样"}),`\r
    oob_score=`,s.jsx(e.span,{className:"hljs-literal",children:"True"}),",          ",s.jsx(e.span,{className:"hljs-comment",children:"# 是否计算袋外误差"}),`\r
    n_jobs=-`,s.jsx(e.span,{className:"hljs-number",children:"1"}),",               ",s.jsx(e.span,{className:"hljs-comment",children:"# 并行计算"}),`\r
    random_state=`,s.jsx(e.span,{className:"hljs-number",children:"42"}),`\r
)\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 训练模型"}),`\r
model.fit(X_train, y_train)\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 预测"}),`\r
y_pred = model.predict(X_test)\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 评估"}),`\r
accuracy = accuracy_score(y_test, y_pred)\r
`,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),"(",s.jsxs(e.span,{className:"hljs-string",children:['f"准确率: ',s.jsxs(e.span,{className:"hljs-subst",children:["{accuracy:",s.jsx(e.span,{className:"hljs-number",children:".4"}),"f}"]}),'"']}),`)\r
`,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),"(",s.jsxs(e.span,{className:"hljs-string",children:['f"袋外误差: ',s.jsxs(e.span,{className:"hljs-subst",children:["{",s.jsx(e.span,{className:"hljs-number",children:"1"})," - model.oob_score_:",s.jsx(e.span,{className:"hljs-number",children:".4"}),"f}"]}),'"']}),`)\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 特征重要性"}),`\r
feature_importance = pd.DataFrame({\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'feature'"}),`: iris.feature_names,\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'importance'"}),`: model.feature_importances_\r
}).sort_values(`,s.jsx(e.span,{className:"hljs-string",children:"'importance'"}),", ascending=",s.jsx(e.span,{className:"hljs-literal",children:"False"}),`)\r
`,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),"(",s.jsx(e.span,{className:"hljs-string",children:'"\\n特征重要性:"'}),`)\r
`,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),`(feature_importance)
`]})}),`
`,s.jsx(e.h3,{children:"随机森林回归"}),`
`,s.jsx(e.pre,{children:s.jsxs(e.code,{className:"hljs language-python",children:[s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.ensemble ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` RandomForestRegressor\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 回归任务"}),`\r
model = RandomForestRegressor(\r
    n_estimators=`,s.jsx(e.span,{className:"hljs-number",children:"100"}),`,\r
    max_depth=`,s.jsx(e.span,{className:"hljs-number",children:"10"}),`,\r
    random_state=`,s.jsx(e.span,{className:"hljs-number",children:"42"}),`\r
)\r
model.fit(X_train, y_train)\r
y_pred = model.predict(X_test)
`]})}),`
`,s.jsx(e.hr,{}),`
`,s.jsx(e.h2,{children:"6️⃣ 特征重要性分析"}),`
`,s.jsx(e.p,{children:"随机森林能够计算特征重要性，帮助理解哪些特征对预测最有影响："}),`
`,s.jsx(e.h3,{children:"基于不纯度减少（Gini Importance）"}),`
`,s.jsx(e.span,{className:"katex-display",children:s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"I"}),s.jsx(e.mi,{children:"m"}),s.jsx(e.mi,{children:"p"}),s.jsx(e.mi,{children:"o"}),s.jsx(e.mi,{children:"r"}),s.jsx(e.mi,{children:"t"}),s.jsx(e.mi,{children:"a"}),s.jsx(e.mi,{children:"n"}),s.jsx(e.mi,{children:"c"}),s.jsx(e.mi,{children:"e"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"X"}),s.jsx(e.mi,{children:"j"})]}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"="}),s.jsxs(e.mfrac,{children:[s.jsx(e.mn,{children:"1"}),s.jsx(e.mi,{children:"B"})]}),s.jsxs(e.munderover,{children:[s.jsx(e.mo,{children:"∑"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"b"}),s.jsx(e.mo,{children:"="}),s.jsx(e.mn,{children:"1"})]}),s.jsx(e.mi,{children:"B"})]}),s.jsxs(e.munder,{children:[s.jsx(e.mo,{children:"∑"}),s.jsxs(e.mrow,{children:[s.jsx(e.mi,{children:"t"}),s.jsx(e.mo,{children:"∈"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"T"}),s.jsx(e.mi,{children:"b"})]})]})]}),s.jsx(e.mi,{children:"I"}),s.jsx(e.mo,{stretchy:"false",children:"("}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"v"}),s.jsx(e.mi,{children:"t"})]}),s.jsx(e.mo,{children:"="}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"X"}),s.jsx(e.mi,{children:"j"})]}),s.jsx(e.mo,{stretchy:"false",children:")"}),s.jsx(e.mo,{children:"⋅"}),s.jsx(e.mi,{mathvariant:"normal",children:"Δ"}),s.jsx(e.mi,{children:"G"}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"n"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"t"})]})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:`Importance(X_j) = \\frac{1}{B}\\sum_{b=1}^{B}\\sum_{t \\in T_b}I(v_t = X_j) \\cdot \\Delta Gini_t
`})]})})}),s.jsxs(e.span,{className:"katex-html","aria-hidden":"true",children:[s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1.0361em",verticalAlign:"-0.2861em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"I"}),s.jsx(e.span,{className:"mord mathnormal",children:"m"}),s.jsx(e.span,{className:"mord mathnormal",children:"p"}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"or"}),s.jsx(e.span,{className:"mord mathnormal",children:"t"}),s.jsx(e.span,{className:"mord mathnormal",children:"an"}),s.jsx(e.span,{className:"mord mathnormal",children:"ce"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"X"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3117em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0785em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.2861em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"3.2285em",verticalAlign:"-1.4002em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mopen nulldelimiter"}),s.jsx(e.span,{className:"mfrac",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.3214em"},children:[s.jsxs(e.span,{style:{top:"-2.314em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.05017em"},children:"B"})})]}),s.jsxs(e.span,{style:{top:"-3.23em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),s.jsxs(e.span,{style:{top:"-3.677em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3em"}}),s.jsx(e.span,{className:"mord",children:s.jsx(e.span,{className:"mord",children:"1"})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.686em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mclose nulldelimiter"})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mop op-limits",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.8283em"},children:[s.jsxs(e.span,{style:{top:"-1.8479em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"b"}),s.jsx(e.span,{className:"mrel mtight",children:"="}),s.jsx(e.span,{className:"mord mtight",children:"1"})]})})]}),s.jsxs(e.span,{style:{top:"-3.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{children:s.jsx(e.span,{className:"mop op-symbol large-op",children:"∑"})})]}),s.jsxs(e.span,{style:{top:"-4.3em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05017em"},children:"B"})})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.3021em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mop op-limits",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsxs(e.span,{className:"vlist",style:{height:"1.05em"},children:[s.jsxs(e.span,{style:{top:"-1.8557em",marginLeft:"0em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",children:"t"}),s.jsx(e.span,{className:"mrel mtight",children:"∈"}),s.jsxs(e.span,{className:"mord mtight",children:[s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"},children:"T"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3448em"},children:s.jsxs(e.span,{style:{top:"-2.3488em",marginLeft:"-0.1389em",marginRight:"0.0714em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.5em"}}),s.jsx(e.span,{className:"sizing reset-size3 size1 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"b"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.1512em"},children:s.jsx(e.span,{})})})]})})]})]})})]}),s.jsxs(e.span,{style:{top:"-3.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"3.05em"}}),s.jsx(e.span,{children:s.jsx(e.span,{className:"mop op-symbol large-op",children:"∑"})})]})]}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"1.4002em"},children:s.jsx(e.span,{})})})]})}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"I"}),s.jsx(e.span,{className:"mopen",children:"("}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.2806em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),s.jsx(e.span,{className:"mrel",children:"="}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"1.0361em",verticalAlign:"-0.2861em"}}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"X"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.3117em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"-0.0785em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.2861em"},children:s.jsx(e.span,{})})})]})})]}),s.jsx(e.span,{className:"mclose",children:")"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),s.jsx(e.span,{className:"mbin",children:"⋅"}),s.jsx(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),s.jsx(e.span,{className:"mord",children:"Δ"}),s.jsx(e.span,{className:"mord mathnormal",children:"G"}),s.jsx(e.span,{className:"mord mathnormal",children:"in"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"i"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.2806em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]})]})]})]})}),`
`,s.jsxs(e.p,{children:["其中 ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsxs(e.mrow,{children:[s.jsx(e.mi,{mathvariant:"normal",children:"Δ"}),s.jsx(e.mi,{children:"G"}),s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"n"}),s.jsxs(e.msub,{children:[s.jsx(e.mi,{children:"i"}),s.jsx(e.mi,{children:"t"})]})]}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"\\Delta Gini_t"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),s.jsx(e.span,{className:"mord",children:"Δ"}),s.jsx(e.span,{className:"mord mathnormal",children:"G"}),s.jsx(e.span,{className:"mord mathnormal",children:"in"}),s.jsxs(e.span,{className:"mord",children:[s.jsx(e.span,{className:"mord mathnormal",children:"i"}),s.jsx(e.span,{className:"msupsub",children:s.jsxs(e.span,{className:"vlist-t vlist-t2",children:[s.jsxs(e.span,{className:"vlist-r",children:[s.jsx(e.span,{className:"vlist",style:{height:"0.2806em"},children:s.jsxs(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[s.jsx(e.span,{className:"pstrut",style:{height:"2.7em"}}),s.jsx(e.span,{className:"sizing reset-size6 size3 mtight",children:s.jsx(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),s.jsx(e.span,{className:"vlist-s",children:"​"})]}),s.jsx(e.span,{className:"vlist-r",children:s.jsx(e.span,{className:"vlist",style:{height:"0.15em"},children:s.jsx(e.span,{})})})]})})]})]})})]})," 是节点 ",s.jsxs(e.span,{className:"katex",children:[s.jsx(e.span,{className:"katex-mathml",children:s.jsx(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s.jsxs(e.semantics,{children:[s.jsx(e.mrow,{children:s.jsx(e.mi,{children:"t"})}),s.jsx(e.annotation,{encoding:"application/x-tex",children:"t"})]})})}),s.jsx(e.span,{className:"katex-html","aria-hidden":"true",children:s.jsxs(e.span,{className:"base",children:[s.jsx(e.span,{className:"strut",style:{height:"0.6151em"}}),s.jsx(e.span,{className:"mord mathnormal",children:"t"})]})})]})," 分裂后基尼指数的减少量。"]}),`
`,s.jsx(e.h3,{children:"Python 实现"}),`
`,s.jsx(e.pre,{children:s.jsxs(e.code,{className:"hljs language-python",children:[s.jsx(e.span,{className:"hljs-keyword",children:"import"})," matplotlib.pyplot ",s.jsx(e.span,{className:"hljs-keyword",children:"as"}),` plt\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 获取特征重要性"}),`\r
importances = model.feature_importances_\r
indices = np.argsort(importances)[::-`,s.jsx(e.span,{className:"hljs-number",children:"1"}),`]\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 可视化"}),`\r
plt.figure(figsize=(`,s.jsx(e.span,{className:"hljs-number",children:"10"}),", ",s.jsx(e.span,{className:"hljs-number",children:"6"}),`))\r
plt.title(`,s.jsx(e.span,{className:"hljs-string",children:'"特征重要性"'}),`)\r
plt.bar(`,s.jsx(e.span,{className:"hljs-built_in",children:"range"}),"(X.shape[",s.jsx(e.span,{className:"hljs-number",children:"1"}),`]), importances[indices])\r
plt.xticks(`,s.jsx(e.span,{className:"hljs-built_in",children:"range"}),"(X.shape[",s.jsx(e.span,{className:"hljs-number",children:"1"}),"]), [iris.feature_names[i] ",s.jsx(e.span,{className:"hljs-keyword",children:"for"})," i ",s.jsx(e.span,{className:"hljs-keyword",children:"in"})," indices], rotation=",s.jsx(e.span,{className:"hljs-number",children:"45"}),`)\r
plt.tight_layout()\r
plt.show()
`]})}),`
`,s.jsx(e.h3,{children:"基于排列重要性（Permutation Importance）"}),`
`,s.jsx(e.pre,{children:s.jsxs(e.code,{className:"hljs language-python",children:[s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.inspection ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` permutation_importance\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 计算排列重要性"}),`\r
perm_importance = permutation_importance(model, X_test, y_test, n_repeats=`,s.jsx(e.span,{className:"hljs-number",children:"10"}),", random_state=",s.jsx(e.span,{className:"hljs-number",children:"42"}),`)\r
\r
`,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),"(",s.jsx(e.span,{className:"hljs-string",children:'"排列重要性:"'}),`)\r
`,s.jsx(e.span,{className:"hljs-keyword",children:"for"})," i ",s.jsx(e.span,{className:"hljs-keyword",children:"in"})," perm_importance.importances_mean.argsort()[::-",s.jsx(e.span,{className:"hljs-number",children:"1"}),`]:\r
    `,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),"(",s.jsxs(e.span,{className:"hljs-string",children:['f"',s.jsx(e.span,{className:"hljs-subst",children:"{iris.feature_names[i]}"}),": ",s.jsxs(e.span,{className:"hljs-subst",children:["{perm_importance.importances_mean[i]:",s.jsx(e.span,{className:"hljs-number",children:".4"}),"f}"]})," +/- ",s.jsxs(e.span,{className:"hljs-subst",children:["{perm_importance.importances_std[i]:",s.jsx(e.span,{className:"hljs-number",children:".4"}),"f}"]}),'"']}),`)
`]})}),`
`,s.jsx(e.hr,{}),`
`,s.jsx(e.h2,{children:"7️⃣ 超参数调优"}),`
`,s.jsx(e.h3,{children:"网格搜索"}),`
`,s.jsx(e.pre,{children:s.jsxs(e.code,{className:"hljs language-python",children:[s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.model_selection ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` GridSearchCV\r
\r
param_grid = {\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'n_estimators'"}),": [",s.jsx(e.span,{className:"hljs-number",children:"50"}),", ",s.jsx(e.span,{className:"hljs-number",children:"100"}),", ",s.jsx(e.span,{className:"hljs-number",children:"200"}),`],\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'max_depth'"}),": [",s.jsx(e.span,{className:"hljs-number",children:"5"}),", ",s.jsx(e.span,{className:"hljs-number",children:"10"}),", ",s.jsx(e.span,{className:"hljs-number",children:"15"}),", ",s.jsx(e.span,{className:"hljs-literal",children:"None"}),`],\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'min_samples_split'"}),": [",s.jsx(e.span,{className:"hljs-number",children:"2"}),", ",s.jsx(e.span,{className:"hljs-number",children:"5"}),", ",s.jsx(e.span,{className:"hljs-number",children:"10"}),`],\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'min_samples_leaf'"}),": [",s.jsx(e.span,{className:"hljs-number",children:"1"}),", ",s.jsx(e.span,{className:"hljs-number",children:"2"}),", ",s.jsx(e.span,{className:"hljs-number",children:"4"}),`],\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'max_features'"}),": [",s.jsx(e.span,{className:"hljs-string",children:"'sqrt'"}),", ",s.jsx(e.span,{className:"hljs-string",children:"'log2'"}),", ",s.jsx(e.span,{className:"hljs-literal",children:"None"}),`]\r
}\r
\r
grid_search = GridSearchCV(\r
    RandomForestClassifier(random_state=`,s.jsx(e.span,{className:"hljs-number",children:"42"}),`),\r
    param_grid,\r
    cv=`,s.jsx(e.span,{className:"hljs-number",children:"5"}),`,\r
    scoring=`,s.jsx(e.span,{className:"hljs-string",children:"'accuracy'"}),`,\r
    n_jobs=-`,s.jsx(e.span,{className:"hljs-number",children:"1"}),`\r
)\r
\r
grid_search.fit(X_train, y_train)\r
\r
`,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),"(",s.jsx(e.span,{className:"hljs-string",children:'"最佳参数:"'}),`, grid_search.best_params_)\r
`,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),"(",s.jsx(e.span,{className:"hljs-string",children:'"最佳得分:"'}),`, grid_search.best_score_)
`]})}),`
`,s.jsx(e.h3,{children:"随机搜索"}),`
`,s.jsx(e.pre,{children:s.jsxs(e.code,{className:"hljs language-python",children:[s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.model_selection ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` RandomizedSearchCV\r
`,s.jsx(e.span,{className:"hljs-keyword",children:"from"})," scipy.stats ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` randint\r
\r
param_dist = {\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'n_estimators'"}),": randint(",s.jsx(e.span,{className:"hljs-number",children:"50"}),", ",s.jsx(e.span,{className:"hljs-number",children:"500"}),`),\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'max_depth'"}),": randint(",s.jsx(e.span,{className:"hljs-number",children:"5"}),", ",s.jsx(e.span,{className:"hljs-number",children:"30"}),`),\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'min_samples_split'"}),": randint(",s.jsx(e.span,{className:"hljs-number",children:"2"}),", ",s.jsx(e.span,{className:"hljs-number",children:"20"}),`),\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'min_samples_leaf'"}),": randint(",s.jsx(e.span,{className:"hljs-number",children:"1"}),", ",s.jsx(e.span,{className:"hljs-number",children:"10"}),`),\r
    `,s.jsx(e.span,{className:"hljs-string",children:"'max_features'"}),": [",s.jsx(e.span,{className:"hljs-string",children:"'sqrt'"}),", ",s.jsx(e.span,{className:"hljs-string",children:"'log2'"}),", ",s.jsx(e.span,{className:"hljs-literal",children:"None"}),`]\r
}\r
\r
random_search = RandomizedSearchCV(\r
    RandomForestClassifier(random_state=`,s.jsx(e.span,{className:"hljs-number",children:"42"}),`),\r
    param_dist,\r
    n_iter=`,s.jsx(e.span,{className:"hljs-number",children:"100"}),`,\r
    cv=`,s.jsx(e.span,{className:"hljs-number",children:"5"}),`,\r
    random_state=`,s.jsx(e.span,{className:"hljs-number",children:"42"}),`,\r
    n_jobs=-`,s.jsx(e.span,{className:"hljs-number",children:"1"}),`\r
)\r
\r
random_search.fit(X_train, y_train)
`]})}),`
`,s.jsx(e.hr,{}),`
`,s.jsx(e.h2,{children:"8️⃣ 优缺点分析"}),`
`,s.jsx(e.h3,{children:"✅ 优点"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"高精度"}),"：集成多个决策树，显著提升预测性能"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"抗过拟合"}),"：通过随机性和集成降低方差"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"处理高维数据"}),"：能有效处理大量特征"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"特征重要性"}),"：自动评估特征对预测的贡献"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"鲁棒性强"}),"：对缺失值和异常值不敏感"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"并行化"}),"：树之间独立，可并行训练"]}),`
`]}),`
`,s.jsx(e.h3,{children:"❌ 缺点"}),`
`,s.jsxs(e.ul,{children:[`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"模型复杂"}),"：包含多棵树，模型体积大"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"训练时间长"}),"：需要训练大量决策树"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"可解释性差"}),"：难以理解整个森林的决策逻辑"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"内存占用大"}),"：需要存储多棵树"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"外推能力弱"}),"：无法预测超出训练数据范围的值"]}),`
`]}),`
`,s.jsx(e.hr,{}),`
`,s.jsx(e.h2,{children:"9️⃣ 实际应用案例"}),`
`,s.jsx(e.h3,{children:"案例1：信用卡欺诈检测"}),`
`,s.jsx(e.pre,{children:s.jsxs(e.code,{className:"hljs language-python",children:[s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.ensemble ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` RandomForestClassifier\r
`,s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.metrics ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` classification_report, confusion_matrix\r
\r
`,s.jsx(e.span,{className:"hljs-comment",children:"# 处理类别不平衡"}),`\r
model = RandomForestClassifier(\r
    n_estimators=`,s.jsx(e.span,{className:"hljs-number",children:"200"}),`,\r
    max_depth=`,s.jsx(e.span,{className:"hljs-number",children:"15"}),`,\r
    class_weight=`,s.jsx(e.span,{className:"hljs-string",children:"'balanced'"}),",  ",s.jsx(e.span,{className:"hljs-comment",children:"# 自动调整类别权重"}),`\r
    random_state=`,s.jsx(e.span,{className:"hljs-number",children:"42"}),`\r
)\r
\r
model.fit(X_train, y_train)\r
y_pred = model.predict(X_test)\r
\r
`,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),`(classification_report(y_test, y_pred))\r
`,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),`(confusion_matrix(y_test, y_pred))
`]})}),`
`,s.jsx(e.h3,{children:"案例2：房价预测"}),`
`,s.jsx(e.pre,{children:s.jsxs(e.code,{className:"hljs language-python",children:[s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.ensemble ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` RandomForestRegressor\r
`,s.jsx(e.span,{className:"hljs-keyword",children:"from"})," sklearn.metrics ",s.jsx(e.span,{className:"hljs-keyword",children:"import"}),` mean_squared_error, r2_score\r
\r
model = RandomForestRegressor(\r
    n_estimators=`,s.jsx(e.span,{className:"hljs-number",children:"300"}),`,\r
    max_depth=`,s.jsx(e.span,{className:"hljs-number",children:"20"}),`,\r
    min_samples_split=`,s.jsx(e.span,{className:"hljs-number",children:"5"}),`,\r
    n_jobs=-`,s.jsx(e.span,{className:"hljs-number",children:"1"}),`,\r
    random_state=`,s.jsx(e.span,{className:"hljs-number",children:"42"}),`\r
)\r
\r
model.fit(X_train, y_train)\r
y_pred = model.predict(X_test)\r
\r
mse = mean_squared_error(y_test, y_pred)\r
r2 = r2_score(y_test, y_pred)\r
\r
`,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),"(",s.jsxs(e.span,{className:"hljs-string",children:['f"MSE: ',s.jsxs(e.span,{className:"hljs-subst",children:["{mse:",s.jsx(e.span,{className:"hljs-number",children:".2"}),"f}"]}),'"']}),`)\r
`,s.jsx(e.span,{className:"hljs-built_in",children:"print"}),"(",s.jsxs(e.span,{className:"hljs-string",children:['f"R² Score: ',s.jsxs(e.span,{className:"hljs-subst",children:["{r2:",s.jsx(e.span,{className:"hljs-number",children:".4"}),"f}"]}),'"']}),`)
`]})}),`
`,s.jsx(e.hr,{}),`
`,s.jsx(e.h2,{children:"🔟 与其他算法对比"}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"算法"}),s.jsx(e.th,{children:"准确率"}),s.jsx(e.th,{children:"训练速度"}),s.jsx(e.th,{children:"可解释性"}),s.jsx(e.th,{children:"抗过拟合"}),s.jsx(e.th,{children:"特征重要性"})]})}),s.jsxs(e.tbody,{children:[s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"随机森林"}),s.jsx(e.td,{children:"⭐⭐⭐⭐⭐"}),s.jsx(e.td,{children:"⭐⭐⭐"}),s.jsx(e.td,{children:"⭐⭐"}),s.jsx(e.td,{children:"⭐⭐⭐⭐"}),s.jsx(e.td,{children:"⭐⭐⭐⭐⭐"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"决策树"}),s.jsx(e.td,{children:"⭐⭐⭐"}),s.jsx(e.td,{children:"⭐⭐⭐⭐"}),s.jsx(e.td,{children:"⭐⭐⭐⭐⭐"}),s.jsx(e.td,{children:"⭐⭐"}),s.jsx(e.td,{children:"⭐⭐⭐⭐"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"GBDT"}),s.jsx(e.td,{children:"⭐⭐⭐⭐⭐"}),s.jsx(e.td,{children:"⭐⭐"}),s.jsx(e.td,{children:"⭐⭐"}),s.jsx(e.td,{children:"⭐⭐⭐⭐"}),s.jsx(e.td,{children:"⭐⭐⭐⭐⭐"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"XGBoost"}),s.jsx(e.td,{children:"⭐⭐⭐⭐⭐"}),s.jsx(e.td,{children:"⭐⭐⭐"}),s.jsx(e.td,{children:"⭐⭐"}),s.jsx(e.td,{children:"⭐⭐⭐⭐⭐"}),s.jsx(e.td,{children:"⭐⭐⭐⭐⭐"})]})]})]}),`
`,s.jsx(e.hr,{}),`
`,s.jsx(e.h2,{children:"🎯 关键要点"}),`
`,s.jsxs(e.ol,{children:[`
`,s.jsxs(e.li,{children:["随机森林通过",s.jsx(e.strong,{children:"集成多棵决策树"}),"提高预测性能"]}),`
`,s.jsxs(e.li,{children:["结合 ",s.jsx(e.strong,{children:"Bagging"}),"（Bootstrap 抽样）和",s.jsx(e.strong,{children:"随机特征选择"}),"两大技术"]}),`
`,s.jsxs(e.li,{children:["显著降低",s.jsx(e.strong,{children:"过拟合风险"}),"，比单棵决策树更稳定"]}),`
`,s.jsxs(e.li,{children:["能够计算",s.jsx(e.strong,{children:"特征重要性"}),"，帮助特征选择和解释模型"]}),`
`,s.jsxs(e.li,{children:[s.jsx(e.strong,{children:"袋外误差"}),"（OOB Error）可用于模型评估，无需额外验证集"]}),`
`,s.jsxs(e.li,{children:["关键超参数：",s.jsx(e.strong,{children:"n_estimators"}),"（树的数量）、",s.jsx(e.strong,{children:"max_depth"}),"（最大深度）、",s.jsx(e.strong,{children:"max_features"}),"（特征数量）"]}),`
`,s.jsxs(e.li,{children:["适用于",s.jsx(e.strong,{children:"分类"}),"和",s.jsx(e.strong,{children:"回归"}),"任务，在许多实际问题中表现优异"]}),`
`]})]})}function E(a={}){const{wrapper:e}=a.components||{};return e?s.jsx(e,{...a,children:s.jsx(y,{...a})}):y(a)}export{X as RandomForestDemo,E as default};
